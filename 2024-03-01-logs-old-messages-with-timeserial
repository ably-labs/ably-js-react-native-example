Messages sent whilst in background:

- WhilstInBackground-2024-03-01-4.1
- WhilstInBackground-2024-03-01-4.2
- WhilstInBackground-2024-03-01-4.3

 LOG  Running "AblyJSReactNativeExample" with {"rootTag":61,"initialProps":{}}
 LOG  Hello World, from React Native!
 LOG  09:27:56.709 Ably: Rest(): initialized with clientOptions {"key":"dBjIJA.Op2L8Q:W2de7dPtcPxB5Y-NHvV1Zr4D6_zHSMV-3QieRG-6Omg","log":{"level":4},"promises":true}
 LOG  09:27:56.711 Ably: Rest(): started; version = 1.2.48
 LOG  09:27:56.711 Ably: Auth(): anonymous, using basic auth
 LOG  09:27:56.712 Ably: Realtime():
 LOG  09:27:56.714 Ably: Realtime.ConnectionManager(): started
 LOG  09:27:56.715 Ably: Realtime.ConnectionManager(): requested transports = [xhr_polling,xhr_streaming,jsonp,web_socket]
 LOG  09:27:56.715 Ably: Realtime.ConnectionManager(): available transports = [xhr_polling,xhr_streaming,web_socket]
 LOG  09:27:56.716 Ably: Realtime.ConnectionManager(): http hosts = [rest.ably.io,D.ably-realtime.com,E.ably-realtime.com,A.ably-realtime.com]
 LOG  09:27:56.716 Ably: Realtime.connect():
 LOG  09:27:56.717 Ably: Connection.connect():
 LOG  09:27:56.717 Ably: ConnectionManager.requestState(): requested state: connecting; current state: initialized
 LOG  09:27:56.718 Ably: ConnectionManager.cancelTransitionTimer():
 LOG  09:27:56.718 Ably: Connection state: connecting
 LOG  09:27:56.718 Ably: ConnectionManager.enactStateChange: setting new state: connecting; reason = undefined
 LOG  09:27:56.719 Ably: Channel(): started; name = someChannel
 LOG  09:27:56.720 Ably: RealtimeChannel(): started; name = someChannel
 LOG  09:27:56.721 Ably: RealtimeChannel.requestState: name = someChannel, state = attaching
 LOG  09:27:56.722 Ably: RealtimeChannel.notifyState: name = someChannel, current state = initialized, notifying state attaching
 LOG  09:27:56.722 Ably: Channel state for channel "someChannel": attaching
 LOG  09:27:56.723 Ably: RealtimeChannel.checkPendingState: sendEvents is false; state is connecting
 LOG  Connection event state change:  {"current": "connecting", "previous": "initialized"}
 LOG  09:27:56.734 Ably: ConnectionManager.startConnect(): starting connection
 LOG  09:27:56.735 Ably: ConnectionManager.startTransitionTimer(): transitionState: connecting
 LOG  09:27:56.736 Ably: ConnectionManager.getTransportParams(): Transport params = [mode=clean,format=json]
 LOG  09:27:56.737 Ably: ConnectionManager.connectBase(): Trying to connect with base transport xhr_polling
 LOG  09:27:56.738 Ably: ConnectionManager.tryATransport(): trying xhr_polling
 LOG  09:27:56.739 Ably: CometTransport.connect(): starting
 LOG  09:27:56.740 Ably: CometTransport.connect(): uri: https://rest.ably.io:443/comet/connect
 LOG  09:27:56.741 Ably: CometTransport.connect(): connectParams:?key=dBjIJA.Op2L8Q%3AW2de7dPtcPxB5Y-NHvV1Zr4D6_zHSMV-3QieRG-6Omg&stream=false&heartbeats=true&v=2&agent=ably-js%2F1.2.48%20reactnative
 LOG  09:27:56.901 Ably: Transport.tryConnect(): viable transport XHRPollingTransport; uri=https://rest.ably.io:443/comet/; isConnected=false
 LOG  09:27:56.902 Ably: ConnectionManager.tryATransport(): viable transport xhr_polling; setting pending
 LOG  09:27:56.903 Ably: ConnectionManager.setTransportPending(): transport = XHRPollingTransport; uri=https://rest.ably.io:443/comet/; isConnected=false; mode = clean
 LOG  09:27:56.904 Ably: Transport.onProtocolMessage(): received on xhr_polling: [ProtocolMessage; action=CONNECTED; connectionId=SC2R-k-nCH]; connectionId = undefined
 LOG  09:27:56.904 Ably: CometTransport.onConnect(): baseUri = https://rest.ably.io:443/comet/e7duUiXxwBZCYG!SC2R-k-nCHATyZ0SFH4jgr-6cef
 LOG  09:27:56.905 Ably: ConnectionManager.activateTransport(): transport = XHRPollingTransport; uri=https://rest.ably.io:443/comet/; isConnected=true
 LOG  09:27:56.905 Ably: ConnectionManager.activateTransport(): connectionId =  SC2R-k-nCH
 LOG  09:27:56.906 Ably: ConnectionManager.activateTransport(): connectionDetails =  {"clientId":"*","connectionKey":"e7duUiXxwBZCYG!SC2R-k-nCHATyZ0SFH4jgr-6cef","maxMessageSize":65536,"maxInboundRate":75,"maxOutboundRate":75,"maxFrameSize":262144,"serverId":"frontend.5800.3.us-east-1-A.i-04541ca1303224232.e7duUiXxwBZCYG","connectionStateTtl":120000,"maxIdleInterval":15000}
 LOG  09:27:56.906 Ably: ConnectionManager.activateTransport(): current state = connecting
 LOG  09:27:56.907 Ably: ConnectionManager.setConnection(): New connectionId; reattaching any attached channels
 LOG  09:27:56.908 Ably: ConnectionManager.notifyState(): new state: connected
 LOG  09:27:56.908 Ably: ConnectionManager.cancelTransitionTimer():
 LOG  09:27:56.908 Ably: Connection state: connected
 LOG  09:27:56.909 Ably: ConnectionManager.enactStateChange: setting new state: connected; reason = undefined
 LOG  09:27:56.909 Ably: ConnectionManager.sendQueuedMessages(): sending 0 queued messages
 LOG  09:27:56.909 Ably: RealtimeChannel.checkPendingState: name = someChannel, state = attaching
 LOG  09:27:56.910 Ably: RealtimeChannel.attachImpl(): sending ATTACH message
 LOG  09:27:56.910 Ably: ConnectionManager.send(): sending event
 LOG  09:27:56.911 Ably: Protocol.send(): sending msg; [ProtocolMessage; action=ATTACH; channel=someChannel]
 LOG  Connection event state change:  {"current": "connected", "previous": "connecting"}
 LOG  09:27:56.912 Ably: ConnectionManager.upgradeIfNeeded(): upgrade possibilities: ["xhr_streaming","web_socket"]
 LOG  09:27:56.912 Ably: ConnectionManager.tryATransport(): trying xhr_streaming
 LOG  09:27:56.913 Ably: CometTransport.connect(): starting
 LOG  09:27:56.913 Ably: CometTransport.connect(): uri: https://rest.ably.io:443/comet/connect
 LOG  09:27:56.913 Ably: CometTransport.connect(): connectParams:?key=dBjIJA.Op2L8Q%3AW2de7dPtcPxB5Y-NHvV1Zr4D6_zHSMV-3QieRG-6Omg&upgrade=e7duUiXxwBZCYG!SC2R-k-nCHATyZ0SFH4jgr-6cef&heartbeats=true&v=2&agent=ably-js%2F1.2.48%20reactnative
 LOG  09:27:56.914 Ably: ConnectionManager.tryATransport(): trying web_socket
 LOG  09:27:56.914 Ably: WebSocketTransport.connect(): starting
 LOG  09:27:56.914 Ably: WebSocketTransport.connect(): uri: wss://realtime.ably.io:443/
 LOG  09:27:56.915 Ably: WebSocketTransport.connect(): authParams: key: dBjIJA.Op2L8Q:W2de7dPtcPxB5Y-NHvV1Zr4D6_zHSMV-3QieRG-6Omg; err: null
 LOG  09:27:57.044 Ably: Transport.onProtocolMessage(): received on xhr_polling: [ProtocolMessage; action=ATTACHED; channel=someChannel; channelSerial=e7dkn-TZABZAVf02589270@1709295779390-0; flags=PRESENCE,PUBLISH,SUBSCRIBE,PRESENCE_SUBSCRIBE]; connectionId = SC2R-k-nCH
 LOG  09:27:57.046 Ably: RealtimeChannel.setChannelSerial(): Updating channel serial; serial = e7dkn-TZABZAVf02589270@1709295779390-0; previous = undefined
 LOG  09:27:57.046 Ably: RealtimeChannel.notifyState: name = someChannel, current state = attaching, notifying state attached
 LOG  09:27:57.047 Ably: RealtimePresence.onAttached(): channel = someChannel, hasPresence = false
 LOG  09:27:57.047 Ably: PresenceMap.setInProgress(): inProgress = false
 LOG  09:27:57.048 Ably: Channel state for channel "someChannel": attached
 LOG  09:27:57.048 Ably: RealtimeChannel.onAttached: activating channel; name = someChannel
 LOG  Attached to channel
 LOG  09:27:57.050 Ably: RealtimeChannel.publish(): message count = 1
 LOG  09:27:57.050 Ably: RealtimeChannel.publish(): sending message; channel state is attached
 LOG  09:27:57.051 Ably: ConnectionManager.send(): sending event
 LOG  09:27:57.052 Ably: Protocol.send(): sending msg; [ProtocolMessage; action=MESSAGE; channel=someChannel; msgSerial=0; messages=[ [Message; name=someName; encoding=json; data={"foo":"bar"}] ]]
 LOG  09:27:57.053 Ably: Transport.tryConnect(): viable transport XHRStreamingTransport; uri=https://rest.ably.io:443/comet/; isConnected=false
 LOG  09:27:57.053 Ably: ConnectionManager.tryATransport(): viable transport xhr_streaming; setting pending
 LOG  09:27:57.054 Ably: ConnectionManager.setTransportPending(): transport = XHRStreamingTransport; uri=https://rest.ably.io:443/comet/; isConnected=false; mode = upgrade
 LOG  09:27:57.054 Ably: Transport.onProtocolMessage(): received on xhr_streaming: [ProtocolMessage; action=CONNECTED; connectionId=SC2R-k-nCH]; connectionId = SC2R-k-nCH
 LOG  09:27:57.054 Ably: CometTransport.onConnect(): baseUri = https://rest.ably.io:443/comet/e7duUiXxwBZCYG!SC2R-k-nCHATyZ0SFH4jgr-6cf0
 LOG  09:27:57.184 Ably: Transport.onProtocolMessage(): received on xhr_polling: [ProtocolMessage; action=MESSAGE; id=SC2R-k-nCH:0; channel=someChannel; channelSerial=e7dkn-TZABZAVf02589270@1709296077124-0; connectionId=SC2R-k-nCH; count=76; msgSerial=0; timestamp=1709296077124; messages=[ [Message; name=someName; encoding=json; extras ={"timeserial":"e7dkn-TZABZAVf02589270@1709296077124-0"}; data={"foo":"bar"}; extras={"timeserial":"e7dkn-TZABZAVf02589270@1709296077124-0"}] ]]; connectionId = SC2R-k-nCH
 LOG  09:27:57.185 Ably: RealtimeChannel.setChannelSerial(): Updating channel serial; serial = e7dkn-TZABZAVf02589270@1709296077124-0; previous = e7dkn-TZABZAVf02589270@1709295779390-0
 LOG  09:27:57.186 Ably: RealtimeChannel.onEvent(): received message
 LOG  Got message from Ably:  {"clientId": undefined, "connectionId": "SC2R-k-nCH", "connectionKey": undefined, "data": {"foo": "bar"}, "encoding": null, "extras": {"timeserial": "e7dkn-TZABZAVf02589270@1709296077124-0"}, "id": "SC2R-k-nCH:0:0", "name": "someName"}
 LOG  09:27:57.186 Ably: Transport.onProtocolMessage(): received on xhr_polling: [ProtocolMessage; action=ACK; count=1; msgSerial=0]; connectionId = SC2R-k-nCH
 LOG  09:27:57.187 Ably: Protocol.onAck(): serial = 0; count = 1
 LOG  09:27:57.187 Ably: MessageQueue.completeMessages(): serial = 0; count = 1
 LOG  Published to Ably
 LOG  09:27:57.402 Ably: WebSocketTransport.onWsOpen(): opened WebSocket
 LOG  09:27:57.402 Ably: Transport.tryConnect(): viable transport WebSocketTransport; uri=wss://realtime.ably.io:443/?key=dBjIJA.Op2L8Q%3AW2de7dPtcPxB5Y-NHvV1Zr4D6_zHSMV-3QieRG-6Omg&upgrade=e7duUiXxwBZCYG!SC2R-k-nCHATyZ0SFH4jgr-6cef&format=json&heartbeats=true&v=2&agent=ably-js%2F1.2.48%20reactnative
 LOG  09:27:57.403 Ably: ConnectionManager.tryATransport(): viable transport web_socket; setting pending
 LOG  09:27:57.403 Ably: ConnectionManager.setTransportPending(): transport = WebSocketTransport; uri=wss://realtime.ably.io:443/?key=dBjIJA.Op2L8Q%3AW2de7dPtcPxB5Y-NHvV1Zr4D6_zHSMV-3QieRG-6Omg&upgrade=e7duUiXxwBZCYG!SC2R-k-nCHATyZ0SFH4jgr-6cef&format=json&heartbeats=true&v=2&agent=ably-js%2F1.2.48%20reactnative; mode = upgrade
 LOG  09:27:57.404 Ably: WebSocketTransport.onWsData(): data received; length = 352; type = string
 LOG  09:27:57.404 Ably: Transport.onProtocolMessage(): received on web_socket: [ProtocolMessage; action=CONNECTED; connectionId=SC2R-k-nCH]; connectionId = SC2R-k-nCH
 LOG  09:27:57.405 Ably: ConnectionManager.scheduleTransportActivation(): Scheduling transport upgrade; transport = WebSocketTransport; uri=wss://realtime.ably.io:443/?key=dBjIJA.Op2L8Q%3AW2de7dPtcPxB5Y-NHvV1Zr4D6_zHSMV-3QieRG-6Omg&upgrade=e7duUiXxwBZCYG!SC2R-k-nCHATyZ0SFH4jgr-6cef&format=json&heartbeats=true&v=2&agent=ably-js%2F1.2.48%20reactnative
 LOG  09:27:57.405 Ably: ConnectionManager.scheduleTransportActivation(): Currently connected, so temporarily pausing events until the upgrade is complete
 LOG  09:27:57.406 Ably: ConnectionManager.scheduleTransportActivation(): Syncing transport; transport = WebSocketTransport; uri=wss://realtime.ably.io:443/?key=dBjIJA.Op2L8Q%3AW2de7dPtcPxB5Y-NHvV1Zr4D6_zHSMV-3QieRG-6Omg&upgrade=e7duUiXxwBZCYG!SC2R-k-nCHATyZ0SFH4jgr-6cef&format=json&heartbeats=true&v=2&agent=ably-js%2F1.2.48%20reactnative
 LOG  09:27:57.406 Ably: ConnectionManager.scheduleTransportActivation(): Activating transport; transport = WebSocketTransport; uri=wss://realtime.ably.io:443/?key=dBjIJA.Op2L8Q%3AW2de7dPtcPxB5Y-NHvV1Zr4D6_zHSMV-3QieRG-6Omg&upgrade=e7duUiXxwBZCYG!SC2R-k-nCHATyZ0SFH4jgr-6cef&format=json&heartbeats=true&v=2&agent=ably-js%2F1.2.48%20reactnative
 LOG  09:27:57.407 Ably: ConnectionManager.activateTransport(): transport = WebSocketTransport; uri=wss://realtime.ably.io:443/?key=dBjIJA.Op2L8Q%3AW2de7dPtcPxB5Y-NHvV1Zr4D6_zHSMV-3QieRG-6Omg&upgrade=e7duUiXxwBZCYG!SC2R-k-nCHATyZ0SFH4jgr-6cef&format=json&heartbeats=true&v=2&agent=ably-js%2F1.2.48%20reactnative
 LOG  09:27:57.407 Ably: ConnectionManager.activateTransport(): connectionId =  SC2R-k-nCH
 LOG  09:27:57.408 Ably: ConnectionManager.activateTransport(): connectionDetails =  {"clientId":"*","connectionKey":"e7duUiXxwBZCYG!SC2R-k-nCHATyZ0SFH4jgr-6cf2","maxMessageSize":65536,"maxInboundRate":75,"maxOutboundRate":75,"maxFrameSize":262144,"serverId":"frontend.5800.3.us-east-1-A.i-04541ca1303224232.e7duUiXxwBZCYG","connectionStateTtl":120000,"maxIdleInterval":15000}
 LOG  09:27:57.408 Ably: ConnectionManager.activateTransport(): current state = connected
 LOG  09:27:57.408 Ably: RealtimeChannel.requestState: name = someChannel, state = attaching
 LOG  09:27:57.409 Ably: RealtimeChannel.notifyState: name = someChannel, current state = attached, notifying state attaching
 LOG  09:27:57.409 Ably: Channel state for channel "someChannel": attaching
 LOG  09:27:57.410 Ably: RealtimeChannel.checkPendingState: name = someChannel, state = attaching
 LOG  09:27:57.410 Ably: RealtimeChannel.attachImpl(): sending ATTACH message
 LOG  09:27:57.410 Ably: ConnectionManager.send(): queueing msg; [ProtocolMessage; action=ATTACH; channel=someChannel; channelSerial=e7dkn-TZABZAVf02589270@1709296077124-0; flags=ATTACH_RESUME]
 LOG  09:27:57.411 Ably: ConnectionManager.queue(): queueing event
 LOG  09:27:57.411 Ably: CometTransport.requestDisconnect(): undefined
 LOG  09:27:57.412 Ably: ConnectionManager.deactivateTransport(): transport = XHRPollingTransport; uri=https://rest.ably.io:443/comet/; isConnected=false
 LOG  09:27:57.413 Ably: ConnectionManager.deactivateTransport(): state = disconnected; another transport is scheduled for activation
 LOG  09:27:57.413 Ably: ConnectionManager.deactivateTransport(): reason =  Connection to server temporarily unavailable
 LOG  09:27:57.414 Ably: CometTransport.dispose():
 LOG  09:27:57.414 Ably: CometTransport.dispose(): aborting recv request
 LOG  09:27:57.415 Ably: CometTransport.requestDisconnect(): undefined
 LOG  09:27:57.415 Ably: ConnectionManager.deactivateTransport(): transport = XHRStreamingTransport; uri=https://rest.ably.io:443/comet/; isConnected=false
 LOG  09:27:57.416 Ably: ConnectionManager.deactivateTransport(): state = disconnected; was pending
 LOG  09:27:57.416 Ably: ConnectionManager.deactivateTransport(): reason =  Connection to server temporarily unavailable
 LOG  09:27:57.417 Ably: CometTransport.dispose():
 LOG  09:27:57.417 Ably: CometTransport.dispose(): aborting recv request
 LOG  09:27:57.418 Ably: ConnectionManager.scheduleTransportActivation(): Pre-upgrade protocol idle, sending queued messages on upgraded transport; transport = WebSocketTransport; uri=wss://realtime.ably.io:443/?key=dBjIJA.Op2L8Q%3AW2de7dPtcPxB5Y-NHvV1Zr4D6_zHSMV-3QieRG-6Omg&upgrade=e7duUiXxwBZCYG!SC2R-k-nCHATyZ0SFH4jgr-6cef&format=json&heartbeats=true&v=2&agent=ably-js%2F1.2.48%20reactnative
 LOG  09:27:57.418 Ably: ConnectionManager.sendQueuedMessages(): sending 1 queued messages
 LOG  09:27:57.418 Ably: Protocol.send(): sending msg; [ProtocolMessage; action=ATTACH; channel=someChannel; channelSerial=e7dkn-TZABZAVf02589270@1709296077124-0; flags=ATTACH_RESUME]
 LOG  09:27:57.530 Ably: WebSocketTransport.onWsData(): data received; length = 41; type = string
 LOG  09:27:57.530 Ably: Transport.onProtocolMessage(): received on web_socket: [ProtocolMessage; action=ACTIVATE; connectionId=SC2R-k-nCH]; connectionId = SC2R-k-nCH
 LOG  09:27:57.537 Ably: WebSocketTransport.onWsData(): data received; length = 109; type = string
 LOG  09:27:57.538 Ably: Transport.onProtocolMessage(): received on web_socket: [ProtocolMessage; action=ATTACHED; channel=someChannel; channelSerial=e7dkn-TZABZAVf02589270@1709296077124-0; flags=RESUMED,PRESENCE,PUBLISH,SUBSCRIBE,PRESENCE_SUBSCRIBE]; connectionId = SC2R-k-nCH
 LOG  09:27:57.538 Ably: RealtimeChannel.setChannelSerial(): Updating channel serial; serial = e7dkn-TZABZAVf02589270@1709296077124-0; previous = e7dkn-TZABZAVf02589270@1709296077124-0
 LOG  09:27:57.539 Ably: RealtimeChannel.notifyState: name = someChannel, current state = attaching, notifying state attached
 LOG  09:27:57.539 Ably: RealtimePresence.onAttached(): channel = someChannel, hasPresence = false
 LOG  09:27:57.539 Ably: PresenceMap.setInProgress(): inProgress = false
 LOG  09:27:57.540 Ably: Channel state for channel "someChannel": attached
 LOG  09:27:57.540 Ably: RealtimeChannel.onAttached: activating channel; name = someChannel
 LOG  Channel attached event listener state change:  {"current": "attached", "hasBacklog": false, "previous": "attaching", "resumed": true}
 LOG  09:52:21.356 Ably: ConnectionManager.scheduleTransportActivation(): Proposed transport xhr_streaming is no better than current active transport web_socket - abandoning upgrade
 WARN  09:52:21.358 Ably: Transport.onIdleTimerExpire(): No activity seen from realtime in 1463820ms; assuming connection has dropped
 LOG  09:52:21.362 Ably: Transport.requestDisconnect():
 LOG  09:52:21.362 Ably: ConnectionManager.deactivateTransport(): transport = WebSocketTransport; uri=wss://realtime.ably.io:443/?key=dBjIJA.Op2L8Q%3AW2de7dPtcPxB5Y-NHvV1Zr4D6_zHSMV-3QieRG-6Omg&upgrade=e7duUiXxwBZCYG!SC2R-k-nCHATyZ0SFH4jgr-6cef&format=json&heartbeats=true&v=2&agent=ably-js%2F1.2.48%20reactnative
 LOG  09:52:21.363 Ably: ConnectionManager.deactivateTransport(): state = disconnected; was active
 LOG  09:52:21.363 Ably: ConnectionManager.deactivateTransport(): reason =  No activity seen from realtime in 1463820ms; assuming connection has dropped
 LOG  09:52:21.364 Ably: ConnectionManager.deactivateTransport(): Getting, clearing, and requeuing 0 pending messages
 LOG  09:52:21.364 Ably: ConnectionManager.notifyState(): new state: disconnected; will retry connection immediately
 LOG  09:52:21.365 Ably: ConnectionManager.cancelTransitionTimer():
 LOG  09:52:21.365 Ably: Connection state: disconnected; reason: [ErrorInfo: No activity seen from realtime in 1463820ms; assuming connection has dropped; statusCode=408; code=80003]
 LOG  09:52:21.365 Ably: ConnectionManager.enactStateChange: setting new state: disconnected; reason = No activity seen from realtime in 1463820ms; assuming connection has dropped
 LOG  09:52:21.366 Ably: WebSocketTransport.dispose():
 LOG  09:52:21.380 Ably: WebSocketTransport.onWsClose(): Unclean disconnection of WebSocket ; code = 1001
 LOG  09:52:21.381 Ably: MessageQueue.clear(): clearing 0 messages
 LOG  09:52:21.381 Ably: ConnectionManager.requestState(): requested state: connecting; current state: disconnected
 LOG  09:52:21.381 Ably: ConnectionManager.cancelTransitionTimer():
 LOG  09:52:21.382 Ably: Connection state: connecting
 LOG  09:52:21.382 Ably: ConnectionManager.enactStateChange: setting new state: connecting; reason = undefined
 LOG  Connection event state change:  {"current": "disconnected", "previous": "connected", "reason": [Error: No activity seen from realtime in 1463820ms; assuming connection has dropped], "retryIn": 12237.739207939921}
 LOG  09:52:21.387 Ably: WebSocketTransport.dispose(): closing websocket
 LOG  Connection event state change:  {"current": "connecting", "previous": "disconnected"}
 LOG  09:52:21.388 Ably: ConnectionManager.startConnect(): starting connection
 LOG  09:52:21.389 Ably: ConnectionManager.startTransitionTimer(): transitionState: connecting
 LOG  09:52:21.389 Ably: ConnectionManager.checkConnectionStateFreshness(): Last known activity from realtime was 1463851ms ago; discarding connection state
 LOG  09:52:21.390 Ably: ConnectionManager.getTransportParams(): Transport params = [mode=clean,format=json]
 LOG  09:52:21.391 Ably: ConnectionManager.connectPreference(): Trying to connect with stored transport preference web_socket
 LOG  09:52:21.391 Ably: ConnectionManager.tryATransport(): trying web_socket
 LOG  09:52:21.392 Ably: WebSocketTransport.connect(): starting
 LOG  09:52:21.392 Ably: WebSocketTransport.connect(): uri: wss://realtime.ably.io:443/
 LOG  09:52:21.393 Ably: WebSocketTransport.connect(): authParams: key: dBjIJA.Op2L8Q:W2de7dPtcPxB5Y-NHvV1Zr4D6_zHSMV-3QieRG-6Omg; err: null
 LOG  09:52:21.884 Ably: WebSocketTransport.onWsOpen(): opened WebSocket
 LOG  09:52:21.884 Ably: Transport.tryConnect(): viable transport WebSocketTransport; uri=wss://realtime.ably.io:443/?key=dBjIJA.Op2L8Q%3AW2de7dPtcPxB5Y-NHvV1Zr4D6_zHSMV-3QieRG-6Omg&format=json&heartbeats=true&v=2&agent=ably-js%2F1.2.48%20reactnative
 LOG  09:52:21.885 Ably: ConnectionManager.tryATransport(): viable transport web_socket; setting pending
 LOG  09:52:21.885 Ably: ConnectionManager.setTransportPending(): transport = WebSocketTransport; uri=wss://realtime.ably.io:443/?key=dBjIJA.Op2L8Q%3AW2de7dPtcPxB5Y-NHvV1Zr4D6_zHSMV-3QieRG-6Omg&format=json&heartbeats=true&v=2&agent=ably-js%2F1.2.48%20reactnative; mode = clean
 LOG  09:52:21.893 Ably: WebSocketTransport.onWsData(): data received; length = 352; type = string
 LOG  09:52:21.893 Ably: Transport.onProtocolMessage(): received on web_socket: [ProtocolMessage; action=CONNECTED; connectionId=LIiuq_ALOy]; connectionId = undefined
 LOG  09:52:21.894 Ably: ConnectionManager.activateTransport(): transport = WebSocketTransport; uri=wss://realtime.ably.io:443/?key=dBjIJA.Op2L8Q%3AW2de7dPtcPxB5Y-NHvV1Zr4D6_zHSMV-3QieRG-6Omg&format=json&heartbeats=true&v=2&agent=ably-js%2F1.2.48%20reactnative
 LOG  09:52:21.894 Ably: ConnectionManager.activateTransport(): connectionId =  LIiuq_ALOy
 LOG  09:52:21.895 Ably: ConnectionManager.activateTransport(): connectionDetails =  {"clientId":"*","connectionKey":"e7dJMo8RwBZCXx!LIiuq_ALOyAULW09kU-JH4-b2dd","maxMessageSize":65536,"maxInboundRate":75,"maxOutboundRate":75,"maxFrameSize":262144,"serverId":"frontend.7e2e.6.us-east-1-A.i-01979d9f8f72bfe83.e7dJMo8RwBZCXx","connectionStateTtl":120000,"maxIdleInterval":15000}
 LOG  09:52:21.895 Ably: ConnectionManager.activateTransport(): current state = connecting
 LOG  09:52:21.896 Ably: ConnectionManager.setConnection(): New connectionId; reattaching any attached channels
 LOG  09:52:21.896 Ably: ConnectionManager.notifyState(): new state: connected
 LOG  09:52:21.897 Ably: ConnectionManager.cancelTransitionTimer():
 LOG  09:52:21.897 Ably: Connection state: connected
 LOG  09:52:21.898 Ably: ConnectionManager.enactStateChange: setting new state: connected; reason = undefined
 LOG  09:52:21.899 Ably: ConnectionManager.sendQueuedMessages(): sending 0 queued messages
 LOG  09:52:21.899 Ably: RealtimeChannel.requestState: name = someChannel, state = attaching
 LOG  09:52:21.900 Ably: RealtimeChannel.notifyState: name = someChannel, current state = attached, notifying state attaching
 LOG  09:52:21.900 Ably: Channel state for channel "someChannel": attaching
 LOG  09:52:21.900 Ably: RealtimeChannel.checkPendingState: name = someChannel, state = attaching
 LOG  09:52:21.901 Ably: RealtimeChannel.attachImpl(): sending ATTACH message
 LOG  09:52:21.901 Ably: ConnectionManager.send(): sending event
 LOG  09:52:21.902 Ably: Protocol.send(): sending msg; [ProtocolMessage; action=ATTACH; channel=someChannel; channelSerial=e7dkn-TZABZAVf02589270@1709296077124-0; flags=ATTACH_RESUME]
 LOG  Connection event state change:  {"current": "connected", "previous": "connecting"}
 LOG  09:52:21.903 Ably: ConnectionManager.upgradeIfNeeded(): upgrade possibilities: []
 LOG  09:52:22.027 Ably: WebSocketTransport.onWsData(): data received; length = 232; type = string
 LOG  09:52:22.027 Ably: Transport.onProtocolMessage(): received on web_socket: [ProtocolMessage; action=ATTACHED; channel=someChannel; channelSerial=e7dkn-TZABZAVf93551851@1709296808882-0; error=[ErrorInfo: Unable to recover channel (messages expired); statusCode=404; code=90003; see https://help.ably.io/error/90003 ]; flags=PRESENCE,PUBLISH,SUBSCRIBE,PRESENCE_SUBSCRIBE]; connectionId = LIiuq_ALOy
 LOG  09:52:22.027 Ably: RealtimeChannel.setChannelSerial(): Updating channel serial; serial = e7dkn-TZABZAVf93551851@1709296808882-0; previous = e7dkn-TZABZAVf02589270@1709296077124-0
 LOG  09:52:22.028 Ably: RealtimeChannel.notifyState: name = someChannel, current state = attaching, notifying state attached
 LOG  09:52:22.028 Ably: RealtimePresence.onAttached(): channel = someChannel, hasPresence = false
 LOG  09:52:22.028 Ably: PresenceMap.setInProgress(): inProgress = false
 LOG  09:52:22.029 Ably: Channel state for channel "someChannel": attached; reason: [ErrorInfo: Unable to recover channel (messages expired); statusCode=404; code=90003; see https://help.ably.io/error/90003 ]
 LOG  09:52:22.029 Ably: RealtimeChannel.onAttached: activating channel; name = someChannel
 LOG  Channel attached event listener state change:  {"current": "attached", "hasBacklog": false, "previous": "attaching", "reason": [Error: Unable to recover channel (messages expired)], "resumed": false}
 LOG  09:52:22.030 Ably: RealtimeChannel.history(): channel = someChannel
 LOG  09:52:22.030 Ably: RealtimeChannel.history(): channel = someChannel
 LOG  09:52:22.031 Ably: Resource.get(): Sending; /channels/someChannel/messages?from_serial=e7dkn-TZABZAVf93551851@1709296808882-0&envelope=json
 LOG  09:52:22.032 Ably: Resource.get(): Sending; /channels/someChannel/messages?from_serial=e7dkn-TZABZAVf93551851@1709296808882-0&envelope=json; Body: null
 LOG  09:52:22.033 Ably: RealtimeChannel.history(): channel = someChannel
 LOG  09:52:22.034 Ably: RealtimeChannel.history(): channel = someChannel
 LOG  09:52:22.034 Ably: Resource.get(): Sending; /channels/someChannel/messages?envelope=json
 LOG  09:52:22.034 Ably: Resource.get(): Sending; /channels/someChannel/messages?envelope=json; Body: null
 LOG  09:52:22.254 Ably: Resource.get(): Received; /channels/someChannel/messages?from_serial=e7dkn-TZABZAVf93551851@1709296808882-0&envelope=json; Headers: Link=<./messages?start=1709211142270&end=1709297542270&limit=100&direction=backwards&cont=true&format=json&firstEnd=1709297542270&fromSerial=e7dkn-TZABZAVf93551851%401709296808882-0>; rel="first",<./messages?start=1709211142270&end=1709297542270&limit=100&direction=backwards&cont=true&format=json&firstEnd=1709297542270&fromSerial=e7dkn-TZABZAVf93551851%401709296808882-0>; rel="current"&Content-Type=application/json&X-Robots-Tag=noindex; StatusCode: 200; Body: [object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]
 LOG  Fetched missed messages from history (with untilAttach):  [{"name":"","id":"NfY1DcPjXZ:11:0","connectionId":"NfY1DcPjXZ","extras":{"timeserial":"e7dkn-TZABZAVf02589270@1709296099346-0"},"data":"WhilstInBackground-2024-03-01-4.3"},{"name":"","id":"NfY1DcPjXZ:10:0","connectionId":"NfY1DcPjXZ","extras":{"timeserial":"e7dkn-TZABZAVf02589270@1709296097667-0"},"data":"WhilstInBackground-2024-03-01-4.2"},{"name":"","id":"NfY1DcPjXZ:9:0","connectionId":"NfY1DcPjXZ","extras":{"timeserial":"e7dkn-TZABZAVf02589270@1709296096035-0"},"data":"WhilstInBackground-2024-03-01-4.1"},{"name":"someName","id":"SC2R-k-nCH:0:0","connectionId":"SC2R-k-nCH","extras":{"timeserial":"e7dkn-TZABZAVf02589270@1709296077124-0"},"encoding":null,"data":{"foo":"bar"}},{"name":"","id":"NfY1DcPjXZ:8:0","connectionId":"NfY1DcPjXZ","extras":{"timeserial":"e7dkn-TZABZAVf02589270@1709295779390-0"},"data":"WhilstInBackground-2024-03-01-3.3"},{"name":"","id":"NfY1DcPjXZ:7:0","connectionId":"NfY1DcPjXZ","extras":{"timeserial":"e7dkn-TZABZAVf02589270@1709295777353-0"},"data":"WhilstInBackground-2024-03-01-3.2"},{"name":"","id":"NfY1DcPjXZ:6:0","connectionId":"NfY1DcPjXZ","extras":{"timeserial":"e7dkn-TZABZAVf02589270@1709295775035-0"},"data":"WhilstInBackground-2024-03-01-3.1"},{"name":"someName","id":"qsIh7KxD3R:0:0","connectionId":"qsIh7KxD3R","extras":{"timeserial":"e7dkn-TZABZAVf02589270@1709295764540-0"},"encoding":null,"data":{"foo":"bar"}},{"name":"someName","id":"Jj_v_J6s8t:0:0","connectionId":"Jj_v_J6s8t","extras":{"timeserial":"e7dkn-TZABZAVf02589270@1709295762562-0"},"encoding":null,"data":{"foo":"bar"}},{"name":"","id":"NfY1DcPjXZ:5:0","connectionId":"NfY1DcPjXZ","extras":{"timeserial":"e7dkn-TZABZAVf02589270@1709295743176-0"},"data":"WhilstInBackground-2024-03-01-2.1"},{"name":"","id":"NfY1DcPjXZ:4:0","connectionId":"NfY1DcPjXZ","extras":{"timeserial":"e7dkn-TZABZAVf02589270@1709295742393-0"},"data":"WhilstInBackground-2024-03-01-2.2"},{"name":"","id":"NfY1DcPjXZ:3:0","connectionId":"NfY1DcPjXZ","extras":{"timeserial":"e7dkn-TZABZAVf02589270@1709295741078-0"},"data":"WhilstInBackground-2024-03-01-2.1"},{"name":"someName","id":"Lt70TFM-jf:0:0","connectionId":"Lt70TFM-jf","extras":{"timeserial":"e7dkn-TZABZAVf02589270@1709295720566-0"},"encoding":null,"data":{"foo":"bar"}},{"name":"someName","id":"5A8c-JPzu5:0:0","connectionId":"5A8c-JPzu5","extras":{"timeserial":"e7dkn-TZABZAVf02589270@1709295718209-0"},"encoding":null,"data":{"foo":"bar"}},{"name":"someName","id":"fP_E2Cxb_Y:0:0","connectionId":"fP_E2Cxb_Y","extras":{"timeserial":"e7dkn-TZABZAVf02589270@1709295666708-0"},"encoding":null,"data":{"foo":"bar"}},{"name":"WhilstInBackground-2024-03-01-1.3","id":"NfY1DcPjXZ:2:0","connectionId":"NfY1DcPjXZ","extras":{"timeserial":"e7dkn-TZABZAVf02589270@1709295324082-0"},"data":""},{"name":"WhilstInBackground-2024-03-01-1.2","id":"NfY1DcPjXZ:1:0","connectionId":"NfY1DcPjXZ","extras":{"timeserial":"e7dkn-TZABZAVf02589270@1709295322393-0"},"data":""},{"name":"WhilstInBackground-2024-03-01-1.1","id":"NfY1DcPjXZ:0:0","connectionId":"NfY1DcPjXZ","extras":{"timeserial":"e7dkn-TZABZAVf02589270@1709295320683-0"},"data":""},{"name":"someName","id":"5QQ7gprrv4:0:0","connectionId":"5QQ7gprrv4","extras":{"timeserial":"e7dkn-TZABZAVf02589270@1709295267402-0"},"encoding":null,"data":{"foo":"bar"}}]
 LOG  09:52:22.565 Ably: Resource.get(): Received; /channels/someChannel/messages; Headers: Link=<./messages?start=1709211142613&end=1709297542613&limit=100&direction=backwards&cont=true&format=json&firstEnd=1709297542613&fromDate=1709297542613&mode=all>; rel="first",<./messages?start=1709211142613&end=1709297542613&limit=100&direction=backwards&cont=true&format=json&firstEnd=1709297542613&fromDate=1709297542613&mode=all>; rel="current"&Content-Type=application/json&X-Robots-Tag=noindex; StatusCode: 200; Body: [object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]
 LOG  Fetched missed messages from history (without untilAttach):  [{"name":"","id":"NfY1DcPjXZ:11:0","connectionId":"NfY1DcPjXZ","extras":{"timeserial":"e7dkn-TZABZAVf02589270@1709296099346-0"},"data":"WhilstInBackground-2024-03-01-4.3"},{"name":"","id":"NfY1DcPjXZ:10:0","connectionId":"NfY1DcPjXZ","extras":{"timeserial":"e7dkn-TZABZAVf02589270@1709296097667-0"},"data":"WhilstInBackground-2024-03-01-4.2"},{"name":"","id":"NfY1DcPjXZ:9:0","connectionId":"NfY1DcPjXZ","extras":{"timeserial":"e7dkn-TZABZAVf02589270@1709296096035-0"},"data":"WhilstInBackground-2024-03-01-4.1"},{"name":"someName","id":"SC2R-k-nCH:0:0","connectionId":"SC2R-k-nCH","extras":{"timeserial":"e7dkn-TZABZAVf02589270@1709296077124-0"},"encoding":null,"data":{"foo":"bar"}},{"name":"","id":"NfY1DcPjXZ:8:0","connectionId":"NfY1DcPjXZ","extras":{"timeserial":"e7dkn-TZABZAVf02589270@1709295779390-0"},"data":"WhilstInBackground-2024-03-01-3.3"},{"name":"","id":"NfY1DcPjXZ:7:0","connectionId":"NfY1DcPjXZ","extras":{"timeserial":"e7dkn-TZABZAVf02589270@1709295777353-0"},"data":"WhilstInBackground-2024-03-01-3.2"},{"name":"","id":"NfY1DcPjXZ:6:0","connectionId":"NfY1DcPjXZ","extras":{"timeserial":"e7dkn-TZABZAVf02589270@1709295775035-0"},"data":"WhilstInBackground-2024-03-01-3.1"},{"name":"someName","id":"qsIh7KxD3R:0:0","connectionId":"qsIh7KxD3R","extras":{"timeserial":"e7dkn-TZABZAVf02589270@1709295764540-0"},"encoding":null,"data":{"foo":"bar"}},{"name":"someName","id":"Jj_v_J6s8t:0:0","connectionId":"Jj_v_J6s8t","extras":{"timeserial":"e7dkn-TZABZAVf02589270@1709295762562-0"},"encoding":null,"data":{"foo":"bar"}},{"name":"","id":"NfY1DcPjXZ:5:0","connectionId":"NfY1DcPjXZ","extras":{"timeserial":"e7dkn-TZABZAVf02589270@1709295743176-0"},"data":"WhilstInBackground-2024-03-01-2.1"},{"name":"","id":"NfY1DcPjXZ:4:0","connectionId":"NfY1DcPjXZ","extras":{"timeserial":"e7dkn-TZABZAVf02589270@1709295742393-0"},"data":"WhilstInBackground-2024-03-01-2.2"},{"name":"","id":"NfY1DcPjXZ:3:0","connectionId":"NfY1DcPjXZ","extras":{"timeserial":"e7dkn-TZABZAVf02589270@1709295741078-0"},"data":"WhilstInBackground-2024-03-01-2.1"},{"name":"someName","id":"Lt70TFM-jf:0:0","connectionId":"Lt70TFM-jf","extras":{"timeserial":"e7dkn-TZABZAVf02589270@1709295720566-0"},"encoding":null,"data":{"foo":"bar"}},{"name":"someName","id":"5A8c-JPzu5:0:0","connectionId":"5A8c-JPzu5","extras":{"timeserial":"e7dkn-TZABZAVf02589270@1709295718209-0"},"encoding":null,"data":{"foo":"bar"}},{"name":"someName","id":"fP_E2Cxb_Y:0:0","connectionId":"fP_E2Cxb_Y","extras":{"timeserial":"e7dkn-TZABZAVf02589270@1709295666708-0"},"encoding":null,"data":{"foo":"bar"}},{"name":"WhilstInBackground-2024-03-01-1.3","id":"NfY1DcPjXZ:2:0","connectionId":"NfY1DcPjXZ","extras":{"timeserial":"e7dkn-TZABZAVf02589270@1709295324082-0"},"data":""},{"name":"WhilstInBackground-2024-03-01-1.2","id":"NfY1DcPjXZ:1:0","connectionId":"NfY1DcPjXZ","extras":{"timeserial":"e7dkn-TZABZAVf02589270@1709295322393-0"},"data":""},{"name":"WhilstInBackground-2024-03-01-1.1","id":"NfY1DcPjXZ:0:0","connectionId":"NfY1DcPjXZ","extras":{"timeserial":"e7dkn-TZABZAVf02589270@1709295320683-0"},"data":""},{"name":"someName","id":"5QQ7gprrv4:0:0","connectionId":"5QQ7gprrv4","extras":{"timeserial":"e7dkn-TZABZAVf02589270@1709295267402-0"},"encoding":null,"data":{"foo":"bar"}}]
 LOG  09:52:36.893 Ably: WebSocketTransport.onWsData(): data received; length = 12; type = string
 LOG  09:52:36.893 Ably: Transport.onProtocolMessage(): received on web_socket: [ProtocolMessage; action=HEARTBEAT]; connectionId = LIiuq_ALOy
 LOG  09:52:36.894 Ably: Transport.onProtocolMessage(): web_socket heartbeat; connectionId = LIiuq_ALOy
 LOG  09:52:51.892 Ably: WebSocketTransport.onWsData(): data received; length = 12; type = string
 LOG  09:52:51.892 Ably: Transport.onProtocolMessage(): received on web_socket: [ProtocolMessage; action=HEARTBEAT]; connectionId = LIiuq_ALOy
 LOG  09:52:51.893 Ably: Transport.onProtocolMessage(): web_socket heartbeat; connectionId = LIiuq_ALOy
 LOG  09:53:06.956 Ably: WebSocketTransport.onWsData(): data received; length = 12; type = string
 LOG  09:53:06.957 Ably: Transport.onProtocolMessage(): received on web_socket: [ProtocolMessage; action=HEARTBEAT]; connectionId = LIiuq_ALOy
 LOG  09:53:06.957 Ably: Transport.onProtocolMessage(): web_socket heartbeat; connectionId = LIiuq_ALOy
