Messages sent whilst in background:

- WhilstInBackground-2024-03-01-1.1
- WhilstInBackground-2024-03-01-1.2
- WhilstInBackground-2024-03-01-1.3

 LOG  Running "AblyJSReactNativeExample" with {"rootTag":1,"initialProps":{}}
 LOG  Hello World, from React Native!
 LOG  09:14:26.622 Ably: Rest(): initialized with clientOptions {"key":"dBjIJA.Op2L8Q:W2de7dPtcPxB5Y-NHvV1Zr4D6_zHSMV-3QieRG-6Omg","log":{"level":4},"promises":true}
 LOG  09:14:26.624 Ably: Rest(): started; version = 1.2.48
 LOG  09:14:26.625 Ably: Auth(): anonymous, using basic auth
 LOG  09:14:26.625 Ably: Realtime():
 LOG  09:14:26.627 Ably: Realtime.ConnectionManager(): started
 LOG  09:14:26.627 Ably: Realtime.ConnectionManager(): requested transports = [xhr_polling,xhr_streaming,jsonp,web_socket]
 LOG  09:14:26.628 Ably: Realtime.ConnectionManager(): available transports = [xhr_polling,xhr_streaming,web_socket]
 LOG  09:14:26.628 Ably: Realtime.ConnectionManager(): http hosts = [rest.ably.io,D.ably-realtime.com,E.ably-realtime.com,A.ably-realtime.com]
 LOG  09:14:26.629 Ably: Realtime.connect():
 LOG  09:14:26.629 Ably: Connection.connect():
 LOG  09:14:26.629 Ably: ConnectionManager.requestState(): requested state: connecting; current state: initialized
 LOG  09:14:26.630 Ably: ConnectionManager.cancelTransitionTimer():
 LOG  09:14:26.630 Ably: Connection state: connecting
 LOG  09:14:26.631 Ably: ConnectionManager.enactStateChange: setting new state: connecting; reason = undefined
 LOG  09:14:26.632 Ably: Channel(): started; name = someChannel
 LOG  09:14:26.632 Ably: RealtimeChannel(): started; name = someChannel
 LOG  09:14:26.633 Ably: RealtimeChannel.requestState: name = someChannel, state = attaching
 LOG  09:14:26.634 Ably: RealtimeChannel.notifyState: name = someChannel, current state = initialized, notifying state attaching
 LOG  09:14:26.634 Ably: Channel state for channel "someChannel": attaching
 LOG  09:14:26.635 Ably: RealtimeChannel.checkPendingState: sendEvents is false; state is connecting
 LOG  Connection event state change:  {"current": "connecting", "previous": "initialized"}
 LOG  09:14:26.642 Ably: ConnectionManager.startConnect(): starting connection
 LOG  09:14:26.642 Ably: ConnectionManager.startTransitionTimer(): transitionState: connecting
 LOG  09:14:26.643 Ably: ConnectionManager.getTransportParams(): Transport params = [mode=clean,format=json]
 LOG  09:14:26.644 Ably: ConnectionManager.connectBase(): Trying to connect with base transport xhr_polling
 LOG  09:14:26.644 Ably: ConnectionManager.tryATransport(): trying xhr_polling
 LOG  09:14:26.645 Ably: CometTransport.connect(): starting
 LOG  09:14:26.645 Ably: CometTransport.connect(): uri: https://rest.ably.io:443/comet/connect
 LOG  09:14:26.646 Ably: CometTransport.connect(): connectParams:?key=dBjIJA.Op2L8Q%3AW2de7dPtcPxB5Y-NHvV1Zr4D6_zHSMV-3QieRG-6Omg&stream=false&heartbeats=true&v=2&agent=ably-js%2F1.2.48%20reactnative
 LOG  09:14:26.832 Ably: Transport.tryConnect(): viable transport XHRPollingTransport; uri=https://rest.ably.io:443/comet/; isConnected=false
 LOG  09:14:26.833 Ably: ConnectionManager.tryATransport(): viable transport xhr_polling; setting pending
 LOG  09:14:26.834 Ably: ConnectionManager.setTransportPending(): transport = XHRPollingTransport; uri=https://rest.ably.io:443/comet/; isConnected=false; mode = clean
 LOG  09:14:26.835 Ably: Transport.onProtocolMessage(): received on xhr_polling: [ProtocolMessage; action=CONNECTED; connectionId=5QQ7gprrv4]; connectionId = undefined
 LOG  09:14:26.836 Ably: CometTransport.onConnect(): baseUri = https://rest.ably.io:443/comet/e7d1bWLZABZCZD!5QQ7gprrv4AdDN7BzxJVX9-16cf
 LOG  09:14:26.837 Ably: ConnectionManager.activateTransport(): transport = XHRPollingTransport; uri=https://rest.ably.io:443/comet/; isConnected=true
 LOG  09:14:26.838 Ably: ConnectionManager.activateTransport(): connectionId =  5QQ7gprrv4
 LOG  09:14:26.838 Ably: ConnectionManager.activateTransport(): connectionDetails =  {"clientId":"*","connectionKey":"e7d1bWLZABZCZD!5QQ7gprrv4AdDN7BzxJVX9-16cf","maxMessageSize":65536,"maxInboundRate":75,"maxOutboundRate":75,"maxFrameSize":262144,"serverId":"frontend.084e.8.us-east-1-A.i-0f7abb17df0189abe.e7d1bWLZABZCZD","connectionStateTtl":120000,"maxIdleInterval":15000}
 LOG  09:14:26.838 Ably: ConnectionManager.activateTransport(): current state = connecting
 LOG  09:14:26.839 Ably: ConnectionManager.setConnection(): New connectionId; reattaching any attached channels
 LOG  09:14:26.840 Ably: ConnectionManager.notifyState(): new state: connected
 LOG  09:14:26.841 Ably: ConnectionManager.cancelTransitionTimer():
 LOG  09:14:26.841 Ably: Connection state: connected
 LOG  09:14:26.841 Ably: ConnectionManager.enactStateChange: setting new state: connected; reason = undefined
 LOG  09:14:26.842 Ably: ConnectionManager.sendQueuedMessages(): sending 0 queued messages
 LOG  09:14:26.842 Ably: RealtimeChannel.checkPendingState: name = someChannel, state = attaching
 LOG  09:14:26.843 Ably: RealtimeChannel.attachImpl(): sending ATTACH message
 LOG  09:14:26.843 Ably: ConnectionManager.send(): sending event
 LOG  09:14:26.844 Ably: Protocol.send(): sending msg; [ProtocolMessage; action=ATTACH; channel=someChannel]
 LOG  Connection event state change:  {"current": "connected", "previous": "connecting"}
 LOG  09:14:26.846 Ably: ConnectionManager.upgradeIfNeeded(): upgrade possibilities: ["xhr_streaming","web_socket"]
 LOG  09:14:26.846 Ably: ConnectionManager.tryATransport(): trying xhr_streaming
 LOG  09:14:26.847 Ably: CometTransport.connect(): starting
 LOG  09:14:26.847 Ably: CometTransport.connect(): uri: https://rest.ably.io:443/comet/connect
 LOG  09:14:26.847 Ably: CometTransport.connect(): connectParams:?key=dBjIJA.Op2L8Q%3AW2de7dPtcPxB5Y-NHvV1Zr4D6_zHSMV-3QieRG-6Omg&upgrade=e7d1bWLZABZCZD!5QQ7gprrv4AdDN7BzxJVX9-16cf&heartbeats=true&v=2&agent=ably-js%2F1.2.48%20reactnative
 LOG  09:14:26.848 Ably: ConnectionManager.tryATransport(): trying web_socket
 LOG  09:14:26.849 Ably: WebSocketTransport.connect(): starting
 LOG  09:14:26.849 Ably: WebSocketTransport.connect(): uri: wss://realtime.ably.io:443/
 LOG  09:14:26.849 Ably: WebSocketTransport.connect(): authParams: key: dBjIJA.Op2L8Q:W2de7dPtcPxB5Y-NHvV1Zr4D6_zHSMV-3QieRG-6Omg; err: null
 LOG  09:14:27.316 Ably: Transport.onProtocolMessage(): received on xhr_polling: [ProtocolMessage; action=ATTACHED; channel=someChannel; channelSerial=e7dkn-TZABZAVf02589270@1709295203585-0; flags=PRESENCE,PUBLISH,SUBSCRIBE,PRESENCE_SUBSCRIBE]; connectionId = 5QQ7gprrv4
 LOG  09:14:27.319 Ably: RealtimeChannel.setChannelSerial(): Updating channel serial; serial = e7dkn-TZABZAVf02589270@1709295203585-0; previous = undefined
 LOG  09:14:27.320 Ably: RealtimeChannel.notifyState: name = someChannel, current state = attaching, notifying state attached
 LOG  09:14:27.321 Ably: RealtimePresence.onAttached(): channel = someChannel, hasPresence = false
 LOG  09:14:27.322 Ably: PresenceMap.setInProgress(): inProgress = false
 LOG  09:14:27.322 Ably: Channel state for channel "someChannel": attached
 LOG  09:14:27.323 Ably: RealtimeChannel.onAttached: activating channel; name = someChannel
 LOG  Attached to channel
 LOG  09:14:27.326 Ably: RealtimeChannel.publish(): message count = 1
 LOG  09:14:27.327 Ably: RealtimeChannel.publish(): sending message; channel state is attached
 LOG  09:14:27.328 Ably: ConnectionManager.send(): sending event
 LOG  09:14:27.329 Ably: Protocol.send(): sending msg; [ProtocolMessage; action=MESSAGE; channel=someChannel; msgSerial=0; messages=[ [Message; name=someName; encoding=json; data={"foo":"bar"}] ]]
 LOG  09:14:27.331 Ably: Transport.tryConnect(): viable transport XHRStreamingTransport; uri=https://rest.ably.io:443/comet/; isConnected=false
 LOG  09:14:27.332 Ably: ConnectionManager.tryATransport(): viable transport xhr_streaming; setting pending
 LOG  09:14:27.332 Ably: ConnectionManager.setTransportPending(): transport = XHRStreamingTransport; uri=https://rest.ably.io:443/comet/; isConnected=false; mode = upgrade
 LOG  09:14:27.333 Ably: Transport.onProtocolMessage(): received on xhr_streaming: [ProtocolMessage; action=CONNECTED; connectionId=5QQ7gprrv4]; connectionId = 5QQ7gprrv4
 LOG  09:14:27.333 Ably: CometTransport.onConnect(): baseUri = https://rest.ably.io:443/comet/e7d1bWLZABZCZD!5QQ7gprrv4AdDN7BzxJVX9-16dd
 LOG  09:14:27.346 Ably: WebSocketTransport.onWsOpen(): opened WebSocket
 LOG  09:14:27.346 Ably: Transport.tryConnect(): viable transport WebSocketTransport; uri=wss://realtime.ably.io:443/?key=dBjIJA.Op2L8Q%3AW2de7dPtcPxB5Y-NHvV1Zr4D6_zHSMV-3QieRG-6Omg&upgrade=e7d1bWLZABZCZD!5QQ7gprrv4AdDN7BzxJVX9-16cf&format=json&heartbeats=true&v=2&agent=ably-js%2F1.2.48%20reactnative
 LOG  09:14:27.347 Ably: ConnectionManager.tryATransport(): viable transport web_socket; setting pending
 LOG  09:14:27.347 Ably: ConnectionManager.setTransportPending(): transport = WebSocketTransport; uri=wss://realtime.ably.io:443/?key=dBjIJA.Op2L8Q%3AW2de7dPtcPxB5Y-NHvV1Zr4D6_zHSMV-3QieRG-6Omg&upgrade=e7d1bWLZABZCZD!5QQ7gprrv4AdDN7BzxJVX9-16cf&format=json&heartbeats=true&v=2&agent=ably-js%2F1.2.48%20reactnative; mode = upgrade
 LOG  09:14:27.348 Ably: WebSocketTransport.onWsData(): data received; length = 352; type = string
 LOG  09:14:27.349 Ably: Transport.onProtocolMessage(): received on web_socket: [ProtocolMessage; action=CONNECTED; connectionId=5QQ7gprrv4]; connectionId = 5QQ7gprrv4
 LOG  09:14:27.350 Ably: ConnectionManager.scheduleTransportActivation(): Scheduling transport upgrade; transport = WebSocketTransport; uri=wss://realtime.ably.io:443/?key=dBjIJA.Op2L8Q%3AW2de7dPtcPxB5Y-NHvV1Zr4D6_zHSMV-3QieRG-6Omg&upgrade=e7d1bWLZABZCZD!5QQ7gprrv4AdDN7BzxJVX9-16cf&format=json&heartbeats=true&v=2&agent=ably-js%2F1.2.48%20reactnative
 LOG  09:14:27.350 Ably: ConnectionManager.scheduleTransportActivation(): Currently connected, so temporarily pausing events until the upgrade is complete
 LOG  09:14:27.351 Ably: ConnectionManager.scheduleTransportActivation(): Syncing transport; transport = WebSocketTransport; uri=wss://realtime.ably.io:443/?key=dBjIJA.Op2L8Q%3AW2de7dPtcPxB5Y-NHvV1Zr4D6_zHSMV-3QieRG-6Omg&upgrade=e7d1bWLZABZCZD!5QQ7gprrv4AdDN7BzxJVX9-16cf&format=json&heartbeats=true&v=2&agent=ably-js%2F1.2.48%20reactnative
 LOG  09:14:27.462 Ably: Transport.onProtocolMessage(): received on xhr_polling: [ProtocolMessage; action=ACK; count=1; msgSerial=0]; connectionId = 5QQ7gprrv4
 LOG  09:14:27.463 Ably: Protocol.onAck(): serial = 0; count = 1
 LOG  09:14:27.463 Ably: MessageQueue.completeMessages(): serial = 0; count = 1
 LOG  09:14:27.464 Ably: ConnectionManager.scheduleTransportActivation(): Activating transport; transport = WebSocketTransport; uri=wss://realtime.ably.io:443/?key=dBjIJA.Op2L8Q%3AW2de7dPtcPxB5Y-NHvV1Zr4D6_zHSMV-3QieRG-6Omg&upgrade=e7d1bWLZABZCZD!5QQ7gprrv4AdDN7BzxJVX9-16cf&format=json&heartbeats=true&v=2&agent=ably-js%2F1.2.48%20reactnative
 LOG  09:14:27.465 Ably: ConnectionManager.activateTransport(): transport = WebSocketTransport; uri=wss://realtime.ably.io:443/?key=dBjIJA.Op2L8Q%3AW2de7dPtcPxB5Y-NHvV1Zr4D6_zHSMV-3QieRG-6Omg&upgrade=e7d1bWLZABZCZD!5QQ7gprrv4AdDN7BzxJVX9-16cf&format=json&heartbeats=true&v=2&agent=ably-js%2F1.2.48%20reactnative
 LOG  09:14:27.465 Ably: ConnectionManager.activateTransport(): connectionId =  5QQ7gprrv4
 LOG  09:14:27.465 Ably: ConnectionManager.activateTransport(): connectionDetails =  {"clientId":"*","connectionKey":"e7d1bWLZABZCZD!5QQ7gprrv4AdDN7BzxJVX9-16de","maxMessageSize":65536,"maxInboundRate":75,"maxOutboundRate":75,"maxFrameSize":262144,"serverId":"frontend.084e.8.us-east-1-A.i-0f7abb17df0189abe.e7d1bWLZABZCZD","connectionStateTtl":120000,"maxIdleInterval":15000}
 LOG  09:14:27.466 Ably: ConnectionManager.activateTransport(): current state = connected
 LOG  09:14:27.466 Ably: RealtimeChannel.requestState: name = someChannel, state = attaching
 LOG  09:14:27.467 Ably: RealtimeChannel.notifyState: name = someChannel, current state = attached, notifying state attaching
 LOG  09:14:27.467 Ably: Channel state for channel "someChannel": attaching
 LOG  09:14:27.468 Ably: RealtimeChannel.checkPendingState: name = someChannel, state = attaching
 LOG  09:14:27.468 Ably: RealtimeChannel.attachImpl(): sending ATTACH message
 LOG  09:14:27.469 Ably: ConnectionManager.send(): queueing msg; [ProtocolMessage; action=ATTACH; channel=someChannel; channelSerial=e7dkn-TZABZAVf02589270@1709295203585-0; flags=ATTACH_RESUME]
 LOG  09:14:27.469 Ably: ConnectionManager.queue(): queueing event
 LOG  09:14:27.470 Ably: CometTransport.requestDisconnect(): undefined
 LOG  09:14:27.472 Ably: ConnectionManager.deactivateTransport(): transport = XHRPollingTransport; uri=https://rest.ably.io:443/comet/; isConnected=false
 LOG  09:14:27.473 Ably: ConnectionManager.deactivateTransport(): state = disconnected; another transport is scheduled for activation
 LOG  09:14:27.473 Ably: ConnectionManager.deactivateTransport(): reason =  Connection to server temporarily unavailable
 LOG  09:14:27.474 Ably: CometTransport.dispose():
 LOG  09:14:27.475 Ably: CometTransport.dispose(): aborting recv request
 LOG  09:14:27.476 Ably: CometTransport.requestDisconnect(): undefined
 LOG  09:14:27.477 Ably: ConnectionManager.deactivateTransport(): transport = XHRStreamingTransport; uri=https://rest.ably.io:443/comet/; isConnected=false
 LOG  09:14:27.477 Ably: ConnectionManager.deactivateTransport(): state = disconnected; was pending
 LOG  09:14:27.478 Ably: ConnectionManager.deactivateTransport(): reason =  Connection to server temporarily unavailable
 LOG  09:14:27.478 Ably: CometTransport.dispose():
 LOG  09:14:27.479 Ably: CometTransport.dispose(): aborting recv request
 LOG  09:14:27.479 Ably: ConnectionManager.scheduleTransportActivation(): Pre-upgrade protocol idle, sending queued messages on upgraded transport; transport = WebSocketTransport; uri=wss://realtime.ably.io:443/?key=dBjIJA.Op2L8Q%3AW2de7dPtcPxB5Y-NHvV1Zr4D6_zHSMV-3QieRG-6Omg&upgrade=e7d1bWLZABZCZD!5QQ7gprrv4AdDN7BzxJVX9-16cf&format=json&heartbeats=true&v=2&agent=ably-js%2F1.2.48%20reactnative
 LOG  09:14:27.480 Ably: ConnectionManager.sendQueuedMessages(): sending 1 queued messages
 LOG  09:14:27.480 Ably: Protocol.send(): sending msg; [ProtocolMessage; action=ATTACH; channel=someChannel; channelSerial=e7dkn-TZABZAVf02589270@1709295203585-0; flags=ATTACH_RESUME]
 LOG  Published to Ably
 LOG  09:14:27.586 Ably: WebSocketTransport.onWsData(): data received; length = 41; type = string
 LOG  09:14:27.587 Ably: Transport.onProtocolMessage(): received on web_socket: [ProtocolMessage; action=ACTIVATE; connectionId=5QQ7gprrv4]; connectionId = 5QQ7gprrv4
 LOG  09:14:27.600 Ably: WebSocketTransport.onWsData(): data received; length = 109; type = string
 LOG  09:14:27.601 Ably: Transport.onProtocolMessage(): received on web_socket: [ProtocolMessage; action=ATTACHED; channel=someChannel; channelSerial=e7dkn-TZABZAVf02589270@1709295203585-0; flags=HAS_BACKLOG,RESUMED,PRESENCE,PUBLISH,SUBSCRIBE,PRESENCE_SUBSCRIBE]; connectionId = 5QQ7gprrv4
 LOG  09:14:27.602 Ably: RealtimeChannel.setChannelSerial(): Updating channel serial; serial = e7dkn-TZABZAVf02589270@1709295203585-0; previous = e7dkn-TZABZAVf02589270@1709295203585-0
 LOG  09:14:27.602 Ably: RealtimeChannel.notifyState: name = someChannel, current state = attaching, notifying state attached
 LOG  09:14:27.603 Ably: RealtimePresence.onAttached(): channel = someChannel, hasPresence = false
 LOG  09:14:27.603 Ably: PresenceMap.setInProgress(): inProgress = false
 LOG  09:14:27.604 Ably: Channel state for channel "someChannel": attached
 LOG  09:14:27.604 Ably: RealtimeChannel.onAttached: activating channel; name = someChannel
 LOG  Channel attached event listener state change:  {"current": "attached", "hasBacklog": true, "previous": "attaching", "resumed": true}
 LOG  09:14:27.605 Ably: WebSocketTransport.onWsData(): data received; length = 311; type = string
 LOG  09:14:27.606 Ably: Transport.onProtocolMessage(): received on web_socket: [ProtocolMessage; action=MESSAGE; id=5QQ7gprrv4:0; channel=someChannel; channelSerial=e7dkn-TZABZAVf02589270@1709295267402-0; connectionId=5QQ7gprrv4; timestamp=1709295267402; messages=[ [Message; name=someName; encoding=json; extras ={"timeserial":"e7dkn-TZABZAVf02589270@1709295267402-0"}; data={"foo":"bar"}; extras={"timeserial":"e7dkn-TZABZAVf02589270@1709295267402-0"}] ]]; connectionId = 5QQ7gprrv4
 LOG  09:14:27.606 Ably: RealtimeChannel.setChannelSerial(): Updating channel serial; serial = e7dkn-TZABZAVf02589270@1709295267402-0; previous = e7dkn-TZABZAVf02589270@1709295203585-0
 LOG  09:14:27.608 Ably: RealtimeChannel.onEvent(): received message
 LOG  Got message from Ably:  {"clientId": undefined, "connectionId": "5QQ7gprrv4", "connectionKey": undefined, "data": {"foo": "bar"}, "encoding": null, "extras": {"timeserial": "e7dkn-TZABZAVf02589270@1709295267402-0"}, "id": "5QQ7gprrv4:0:0", "name": "someName"}
 LOG  09:14:33.335 Ably: ConnectionManager.scheduleTransportActivation(): Proposed transport xhr_streaming is no better than current active transport web_socket - abandoning upgrade
 LOG  09:14:42.344 Ably: WebSocketTransport.onWsData(): data received; length = 12; type = string
 LOG  09:14:42.345 Ably: Transport.onProtocolMessage(): received on web_socket: [ProtocolMessage; action=HEARTBEAT]; connectionId = 5QQ7gprrv4
 LOG  09:14:42.345 Ably: Transport.onProtocolMessage(): web_socket heartbeat; connectionId = 5QQ7gprrv4
 LOG  09:14:57.345 Ably: WebSocketTransport.onWsData(): data received; length = 12; type = string
 LOG  09:14:57.346 Ably: Transport.onProtocolMessage(): received on web_socket: [ProtocolMessage; action=HEARTBEAT]; connectionId = 5QQ7gprrv4
 LOG  09:14:57.347 Ably: Transport.onProtocolMessage(): web_socket heartbeat; connectionId = 5QQ7gprrv4
 LOG  09:15:12.344 Ably: WebSocketTransport.onWsData(): data received; length = 12; type = string
 LOG  09:15:12.345 Ably: Transport.onProtocolMessage(): received on web_socket: [ProtocolMessage; action=HEARTBEAT]; connectionId = 5QQ7gprrv4
 LOG  09:15:12.346 Ably: Transport.onProtocolMessage(): web_socket heartbeat; connectionId = 5QQ7gprrv4
 WARN  09:17:56.966 Ably: Transport.onIdleTimerExpire(): No activity seen from realtime in 164620ms; assuming connection has dropped
 LOG  09:17:56.971 Ably: Transport.requestDisconnect():
 LOG  09:17:56.972 Ably: ConnectionManager.deactivateTransport(): transport = WebSocketTransport; uri=wss://realtime.ably.io:443/?key=dBjIJA.Op2L8Q%3AW2de7dPtcPxB5Y-NHvV1Zr4D6_zHSMV-3QieRG-6Omg&upgrade=e7d1bWLZABZCZD!5QQ7gprrv4AdDN7BzxJVX9-16cf&format=json&heartbeats=true&v=2&agent=ably-js%2F1.2.48%20reactnative
 LOG  09:17:56.972 Ably: ConnectionManager.deactivateTransport(): state = disconnected; was active
 LOG  09:17:56.973 Ably: ConnectionManager.deactivateTransport(): reason =  No activity seen from realtime in 164620ms; assuming connection has dropped
 LOG  09:17:56.973 Ably: ConnectionManager.deactivateTransport(): Getting, clearing, and requeuing 0 pending messages
 LOG  09:17:56.974 Ably: ConnectionManager.notifyState(): new state: disconnected; will retry connection immediately
 LOG  09:17:56.974 Ably: ConnectionManager.cancelTransitionTimer():
 LOG  09:17:56.975 Ably: Connection state: disconnected; reason: [ErrorInfo: No activity seen from realtime in 164620ms; assuming connection has dropped; statusCode=408; code=80003]
 LOG  09:17:56.975 Ably: ConnectionManager.enactStateChange: setting new state: disconnected; reason = No activity seen from realtime in 164620ms; assuming connection has dropped
 LOG  09:17:56.976 Ably: WebSocketTransport.dispose():
 LOG  09:17:57.001 Ably: MessageQueue.clear(): clearing 0 messages
 LOG  09:17:57.003 Ably: ConnectionManager.requestState(): requested state: connecting; current state: disconnected
 LOG  09:17:57.003 Ably: ConnectionManager.cancelTransitionTimer():
 LOG  09:17:57.004 Ably: Connection state: connecting
 LOG  09:17:57.005 Ably: ConnectionManager.enactStateChange: setting new state: connecting; reason = undefined
 LOG  09:17:57.006 Ably: WebSocketTransport.onWsClose(): Unclean disconnection of WebSocket ; code = 1001
 LOG  Connection event state change:  {"current": "disconnected", "previous": "connected", "reason": [Error: No activity seen from realtime in 164620ms; assuming connection has dropped], "retryIn": 13274.784329072132}
 LOG  09:17:57.017 Ably: WebSocketTransport.dispose(): closing websocket
 LOG  Connection event state change:  {"current": "connecting", "previous": "disconnected"}
 LOG  09:17:57.018 Ably: ConnectionManager.startConnect(): starting connection
 LOG  09:17:57.019 Ably: ConnectionManager.startTransitionTimer(): transitionState: connecting
 LOG  09:17:57.019 Ably: ConnectionManager.checkConnectionStateFreshness(): Last known activity from realtime was 164673ms ago; discarding connection state
 LOG  09:17:57.020 Ably: ConnectionManager.getTransportParams(): Transport params = [mode=clean,format=json]
 LOG  09:17:57.021 Ably: ConnectionManager.connectPreference(): Trying to connect with stored transport preference web_socket
 LOG  09:17:57.021 Ably: ConnectionManager.tryATransport(): trying web_socket
 LOG  09:17:57.022 Ably: WebSocketTransport.connect(): starting
 LOG  09:17:57.022 Ably: WebSocketTransport.connect(): uri: wss://realtime.ably.io:443/
 LOG  09:17:57.023 Ably: WebSocketTransport.connect(): authParams: key: dBjIJA.Op2L8Q:W2de7dPtcPxB5Y-NHvV1Zr4D6_zHSMV-3QieRG-6Omg; err: null
 LOG  09:17:57.525 Ably: WebSocketTransport.onWsOpen(): opened WebSocket
 LOG  09:17:57.526 Ably: Transport.tryConnect(): viable transport WebSocketTransport; uri=wss://realtime.ably.io:443/?key=dBjIJA.Op2L8Q%3AW2de7dPtcPxB5Y-NHvV1Zr4D6_zHSMV-3QieRG-6Omg&format=json&heartbeats=true&v=2&agent=ably-js%2F1.2.48%20reactnative
 LOG  09:17:57.526 Ably: ConnectionManager.tryATransport(): viable transport web_socket; setting pending
 LOG  09:17:57.527 Ably: ConnectionManager.setTransportPending(): transport = WebSocketTransport; uri=wss://realtime.ably.io:443/?key=dBjIJA.Op2L8Q%3AW2de7dPtcPxB5Y-NHvV1Zr4D6_zHSMV-3QieRG-6Omg&format=json&heartbeats=true&v=2&agent=ably-js%2F1.2.48%20reactnative; mode = clean
 LOG  09:17:57.536 Ably: WebSocketTransport.onWsData(): data received; length = 352; type = string
 LOG  09:17:57.536 Ably: Transport.onProtocolMessage(): received on web_socket: [ProtocolMessage; action=CONNECTED; connectionId=WlSK9q_Z0z]; connectionId = undefined
 LOG  09:17:57.537 Ably: ConnectionManager.activateTransport(): transport = WebSocketTransport; uri=wss://realtime.ably.io:443/?key=dBjIJA.Op2L8Q%3AW2de7dPtcPxB5Y-NHvV1Zr4D6_zHSMV-3QieRG-6Omg&format=json&heartbeats=true&v=2&agent=ably-js%2F1.2.48%20reactnative
 LOG  09:17:57.537 Ably: ConnectionManager.activateTransport(): connectionId =  WlSK9q_Z0z
 LOG  09:17:57.538 Ably: ConnectionManager.activateTransport(): connectionDetails =  {"clientId":"*","connectionKey":"e7dvOP3ZwBZCXx!WlSK9q_Z0zAcTd0Q-Hn8QZ-50a6","maxMessageSize":65536,"maxInboundRate":75,"maxOutboundRate":75,"maxFrameSize":262144,"serverId":"frontend.22fe.8.us-east-1-A.i-01979d9f8f72bfe83.e7dvOP3ZwBZCXx","connectionStateTtl":120000,"maxIdleInterval":15000}
 LOG  09:17:57.538 Ably: ConnectionManager.activateTransport(): current state = connecting
 LOG  09:17:57.538 Ably: ConnectionManager.setConnection(): New connectionId; reattaching any attached channels
 LOG  09:17:57.539 Ably: ConnectionManager.notifyState(): new state: connected
 LOG  09:17:57.539 Ably: ConnectionManager.cancelTransitionTimer():
 LOG  09:17:57.540 Ably: Connection state: connected
 LOG  09:17:57.540 Ably: ConnectionManager.enactStateChange: setting new state: connected; reason = undefined
 LOG  09:17:57.541 Ably: ConnectionManager.sendQueuedMessages(): sending 0 queued messages
 LOG  09:17:57.541 Ably: RealtimeChannel.requestState: name = someChannel, state = attaching
 LOG  09:17:57.542 Ably: RealtimeChannel.notifyState: name = someChannel, current state = attached, notifying state attaching
 LOG  09:17:57.542 Ably: Channel state for channel "someChannel": attaching
 LOG  09:17:57.542 Ably: RealtimeChannel.checkPendingState: name = someChannel, state = attaching
 LOG  09:17:57.543 Ably: RealtimeChannel.attachImpl(): sending ATTACH message
 LOG  09:17:57.543 Ably: ConnectionManager.send(): sending event
 LOG  09:17:57.544 Ably: Protocol.send(): sending msg; [ProtocolMessage; action=ATTACH; channel=someChannel; channelSerial=e7dkn-TZABZAVf02589270@1709295267402-0; flags=ATTACH_RESUME]
 LOG  Connection event state change:  {"current": "connected", "previous": "connecting"}
 LOG  09:17:57.545 Ably: ConnectionManager.upgradeIfNeeded(): upgrade possibilities: []
 LOG  09:17:57.667 Ably: WebSocketTransport.onWsData(): data received; length = 232; type = string
 LOG  09:17:57.668 Ably: Transport.onProtocolMessage(): received on web_socket: [ProtocolMessage; action=ATTACHED; channel=someChannel; channelSerial=e7dkn-TZABZAVf02589270@1709295324082-0; error=[ErrorInfo: Unable to recover channel (messages expired); statusCode=404; code=90003; see https://help.ably.io/error/90003 ]; flags=PRESENCE,PUBLISH,SUBSCRIBE,PRESENCE_SUBSCRIBE]; connectionId = WlSK9q_Z0z
 LOG  09:17:57.669 Ably: RealtimeChannel.setChannelSerial(): Updating channel serial; serial = e7dkn-TZABZAVf02589270@1709295324082-0; previous = e7dkn-TZABZAVf02589270@1709295267402-0
 LOG  09:17:57.669 Ably: RealtimeChannel.notifyState: name = someChannel, current state = attaching, notifying state attached
 LOG  09:17:57.670 Ably: RealtimePresence.onAttached(): channel = someChannel, hasPresence = false
 LOG  09:17:57.670 Ably: PresenceMap.setInProgress(): inProgress = false
 LOG  09:17:57.671 Ably: Channel state for channel "someChannel": attached; reason: [ErrorInfo: Unable to recover channel (messages expired); statusCode=404; code=90003; see https://help.ably.io/error/90003 ]
 LOG  09:17:57.671 Ably: RealtimeChannel.onAttached: activating channel; name = someChannel
 LOG  Channel attached event listener state change:  {"current": "attached", "hasBacklog": false, "previous": "attaching", "reason": [Error: Unable to recover channel (messages expired)], "resumed": false}
 LOG  09:17:57.673 Ably: RealtimeChannel.history(): channel = someChannel
 LOG  09:17:57.673 Ably: RealtimeChannel.history(): channel = someChannel
 LOG  09:17:57.675 Ably: Resource.get(): Sending; /channels/someChannel/messages?from_serial=e7dkn-TZABZAVf02589270@1709295324082-0&envelope=json
 LOG  09:17:57.676 Ably: Resource.get(): Sending; /channels/someChannel/messages?from_serial=e7dkn-TZABZAVf02589270@1709295324082-0&envelope=json; Body: null
 LOG  09:17:57.677 Ably: RealtimeChannel.history(): channel = someChannel
 LOG  09:17:57.678 Ably: RealtimeChannel.history(): channel = someChannel
 LOG  09:17:57.678 Ably: Resource.get(): Sending; /channels/someChannel/messages?envelope=json
 LOG  09:17:57.678 Ably: Resource.get(): Sending; /channels/someChannel/messages?envelope=json; Body: null
 LOG  09:17:57.837 Ably: Resource.get(): Received; /channels/someChannel/messages; Headers: Link=<./messages?start=1709209077767&end=1709295477767&limit=100&direction=backwards&cont=true&format=json&firstEnd=1709295477767&fromDate=1709295477767&mode=all>; rel="first",<./messages?start=1709209077767&end=1709295477767&limit=100&direction=backwards&cont=true&format=json&firstEnd=1709295477767&fromDate=1709295477767&mode=all>; rel="current"&Content-Type=application/json&X-Robots-Tag=noindex; StatusCode: 200; Body: [object Object],[object Object],[object Object],[object Object]
 LOG  Fetched missed messages from history (without untilAttach):  [{"name":"WhilstInBackground-2024-03-01-1.3","id":"NfY1DcPjXZ:2:0","connectionId":"NfY1DcPjXZ","extras":{"timeserial":"e7dkn-TZABZAVf02589270@1709295324082-0"},"data":""},{"name":"WhilstInBackground-2024-03-01-1.2","id":"NfY1DcPjXZ:1:0","connectionId":"NfY1DcPjXZ","extras":{"timeserial":"e7dkn-TZABZAVf02589270@1709295322393-0"},"data":""},{"name":"WhilstInBackground-2024-03-01-1.1","id":"NfY1DcPjXZ:0:0","connectionId":"NfY1DcPjXZ","extras":{"timeserial":"e7dkn-TZABZAVf02589270@1709295320683-0"},"data":""},{"name":"someName","id":"5QQ7gprrv4:0:0","connectionId":"5QQ7gprrv4","extras":{"timeserial":"e7dkn-TZABZAVf02589270@1709295267402-0"},"encoding":null,"data":{"foo":"bar"}}]
 LOG  09:17:57.846 Ably: Resource.get(): Received; /channels/someChannel/messages?from_serial=e7dkn-TZABZAVf02589270@1709295324082-0&envelope=json; Headers: Link=<./messages?start=1709209077776&end=1709295477776&limit=100&direction=backwards&cont=true&format=json&firstEnd=1709295477776&fromSerial=e7dkn-TZABZAVf02589270%401709295324082-0>; rel="first",<./messages?start=1709209077776&end=1709295477776&limit=100&direction=backwards&cont=true&format=json&firstEnd=1709295477776&fromSerial=e7dkn-TZABZAVf02589270%401709295324082-0>; rel="current"&Content-Type=application/json&X-Robots-Tag=noindex; StatusCode: 200; Body:
 LOG  Fetched missed messages from history (with untilAttach):  []
